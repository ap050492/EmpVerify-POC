{"ast":null,"code":"import _classCallCheck from \"/home/ayanwork/amit/empverify/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ayanwork/amit/empverify/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ayanwork/amit/empverify/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ayanwork/amit/empverify/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ayanwork/amit/empverify/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ayanwork/amit/empverify/Client/src/views/createWallet/index.jsx\";\nimport React from \"react\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, FormGroup, Form, Input, InputGroupAddon, InputGroupText, InputGroup, Row, Col } from \"reactstrap\";\nimport { serverURL } from '../../utils/api';\n\nvar sha256 = require('js-sha256');\n\nvar createWallet =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(createWallet, _React$Component);\n\n  function createWallet(props) {\n    var _this;\n\n    _classCallCheck(this, createWallet);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(createWallet).call(this, props));\n    _this.state = {\n      pageCount: 0,\n      pin: '',\n      cPin: '',\n      name: '',\n      showAlert: false,\n      errorMessage: '',\n      email: ''\n    };\n    return _this;\n  }\n\n  _createClass(createWallet, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var userData = localStorage.getItem('user');\n      this.setState({\n        name: JSON.parse(userData).name,\n        email: JSON.parse(userData).email\n      });\n    }\n  }, {\n    key: \"onNextClick\",\n    value: function onNextClick() {\n      this.setState({\n        pageCount: 1\n      });\n    }\n  }, {\n    key: \"onCreateWalletClick\",\n    value: function onCreateWalletClick() {\n      var _this2 = this;\n\n      if (this.state.pin === this.state.cPin) {\n        fetch(\"\".concat(serverURL, \"createWallet\"), {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            name: this.state.name,\n            pin: this.state.pin\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (responseJson) {\n          if (responseJson.status === 200) {\n            _this2.props.history.push('/admin/index');\n          } else {\n            _this2.setState({\n              showAlert: true,\n              errorMessage: responseJson.message\n            });\n\n            _this2.resetAlert();\n          }\n        }).catch(function (error) {\n          console.error(error);\n        });\n      } else {\n        this.setState({\n          showAlert: true,\n          errorMessage: \"Pin not match!!!\"\n        });\n        this.resetAlert();\n      }\n    }\n  }, {\n    key: \"resetAlert\",\n    value: function resetAlert() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        _this3.setState({\n          showAlert: false,\n          errorMessage: ''\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(Col, {\n        lg: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"bg-secondary shadow border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        className: \"px-lg-5 py-lg-5 jus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.pageCount === 0 ? React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('./../../assets/img/wallet.png'),\n        class: \"col-sm-3\",\n        alt: \"wallet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-center mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Create a new Wallet\"), React.createElement(\"p\", {\n        className: \"text-lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"New to EmpVerify? Don't worry! We will walk you through the steup process in few minites.\"), React.createElement(Button, {\n        className: \"my-4\",\n        color: \"primary\",\n        type: \"button\",\n        onClick: this.onNextClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Next\"))) : React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('./../../assets/img/wallet.png'),\n        class: \"col-sm-2\",\n        alt: \"wallet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-center mt-5 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Form, {\n        role: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        className: \"mb-3 col-sm-\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ni ni-email-83\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        value: this.state.name,\n        placeholder: \"wallet\",\n        type: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ni ni-lock-circle-open\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        value: this.state.pin,\n        maxLength: 6,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            pin: e.target.value\n          });\n        },\n        placeholder: \"Pin\",\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ni ni-lock-circle-open\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        value: this.state.cPin,\n        maxLength: 6,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            cPin: e.target.value\n          });\n        },\n        placeholder: \"Confirm Pin\",\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })))), React.createElement(Button, {\n        className: \"my-4\",\n        color: \"primary\",\n        type: \"button\",\n        onClick: this.onCreateWalletClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Create New Wallet\"))), this.state.showAlert === true ? React.createElement(\"div\", {\n        class: \"alert alert-warning\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Error! \"), this.state.errorMessage) : null))));\n    }\n  }]);\n\n  return createWallet;\n}(React.Component);\n\nexport default createWallet;","map":{"version":3,"sources":["/home/ayanwork/amit/empverify/Client/src/views/createWallet/index.jsx"],"names":["React","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Row","Col","serverURL","sha256","require","createWallet","props","state","pageCount","pin","cPin","name","showAlert","errorMessage","email","userData","localStorage","getItem","setState","JSON","parse","fetch","method","headers","Accept","body","stringify","then","response","json","responseJson","status","history","push","message","resetAlert","catch","error","console","setTimeout","onNextClick","bind","e","target","value","onCreateWalletClick","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Row,\n  Col\n} from \"reactstrap\";\nimport { serverURL } from '../../utils/api';\nconst sha256 = require('js-sha256');\n\nclass createWallet extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      pageCount:0,\n      pin:'',\n      cPin:'',\n      name:'',\n      showAlert:false,\n      errorMessage:'',\n      email:''\n    }\n  }\n\n  componentDidMount() {\n    const userData = localStorage.getItem('user');\n    this.setState({\n      name : JSON.parse(userData).name,\n      email: JSON.parse(userData).email\n    })\n  }\n\n  onNextClick () {\n    this.setState({\n      pageCount:1\n    })\n  }\n\n  onCreateWalletClick() {\n    if(this.state.pin === this.state.cPin){\n      fetch(`${serverURL}createWallet`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          pin: this.state.pin,\n        }),\n      })\n        .then((response) => response.json())\n        .then((responseJson) => {\n          if (responseJson.status === 200) {\n            this.props.history.push('/admin/index')\n          } else {\n            this.setState({\n              showAlert: true,\n              errorMessage: responseJson.message\n            })\n            this.resetAlert();\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    } else {\n      this.setState({\n        showAlert: true,\n        errorMessage: \"Pin not match!!!\"\n      })\n      this.resetAlert();\n    }\n  }\n\n  resetAlert(){\n    setTimeout(() => {\n      this.setState({\n        showAlert: false,\n        errorMessage: ''\n      })\n    }, 2000);\n  }\n\n  render() {\n    return (\n      <>\n        <Col lg=\"7\">\n\n          <Card className=\"bg-secondary shadow border-0\">\n\n            <CardBody className=\"px-lg-5 py-lg-5 jus\">\n              {this.state.pageCount === 0 ?\n              <Row>\n              <div class=\"text-center\">\n                <img src={require('./../../assets/img/wallet.png')} class=\"col-sm-3\" alt=\"wallet\"/>\n              </div>\n              <div className=\"text-center mt-5\">\n                <h3 className=\"text-dark\">Create a new Wallet</h3>\n                  <p className=\"text-lead\">\n                    New to EmpVerify? Don't worry! We will walk you through the steup process in few minites.\n                  </p>\n                  <Button className=\"my-4\" color=\"primary\" type=\"button\" onClick={this.onNextClick.bind(this)}>\n                    Next\n                  </Button>\n                </div>\n              </Row> :\n                <Row>\n                <div class=\"text-center\">\n                  <img src={require('./../../assets/img/wallet.png')} class=\"col-sm-2\" alt=\"wallet\"/>\n                </div>\n                <div className=\"text-center mt-5 col-sm-12\">\n                <Form role=\"form\">\n                <FormGroup className=\"mb-3 col-sm-\">\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-email-83\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      value={this.state.name}                      \n                      placeholder=\"wallet\"\n                      type=\"email\" />\n                  </InputGroup>\n                </FormGroup>\n                <FormGroup>\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-lock-circle-open\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      value={this.state.pin}\n                      maxLength={6}\n                      onChange={(e) => this.setState({ pin: e.target.value })}\n                      placeholder=\"Pin\"\n                      type=\"password\" />\n                  </InputGroup>\n                </FormGroup>\n                <FormGroup>\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-lock-circle-open\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      value={this.state.cPin}\n                      maxLength={6}\n                      onChange={(e) => this.setState({ cPin: e.target.value })}\n                      placeholder=\"Confirm Pin\"\n                      type=\"password\" />\n                  </InputGroup>\n                </FormGroup>\n                </Form>\n                    <Button className=\"my-4\" color=\"primary\" type=\"button\" onClick={this.onCreateWalletClick.bind(this)}>\n                      Create New Wallet\n                    </Button>\n                  </div>\n              </Row>}    \n              {this.state.showAlert === true ?\n                <div class=\"alert alert-warning\" role=\"alert\">\n                  <strong>Error! </strong>{this.state.errorMessage}\n                </div> : null}\n            </CardBody>\n          </Card>          \n        </Col>\n      </>\n    );\n  }\n}\n\nexport default createWallet;\n"]},"metadata":{},"sourceType":"module"}